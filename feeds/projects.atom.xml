<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>James W. Hanlon - projects</title><link href="http://jameswhanlon.com/" rel="alternate"></link><link href="http://jameswhanlon.com/feeds/projects.atom.xml" rel="self"></link><id>http://jameswhanlon.com/</id><updated>2019-11-10T00:00:00+01:00</updated><subtitle></subtitle><entry><title>Recycled allotment shed</title><link href="http://jameswhanlon.com/recycled-allotment-shed.html" rel="alternate"></link><published>2019-11-10T00:00:00+01:00</published><updated>2019-11-10T00:00:00+01:00</updated><author><name>James W. Hanlon</name></author><id>tag:jameswhanlon.com,2019-11-10:/recycled-allotment-shed.html</id><summary type="html">&lt;p&gt;A friend was in need of a shed on her allotment to store tools and as a place
to shelter in the rain, so I helped her to build one. The aim was to build
something solid that would stand up to the elements (unlike most allotment
sheds), to use …&lt;/p&gt;</summary><content type="html">&lt;p&gt;A friend was in need of a shed on her allotment to store tools and as a place
to shelter in the rain, so I helped her to build one. The aim was to build
something solid that would stand up to the elements (unlike most allotment
sheds), to use recycled materials as far as possible, and ideally to fit within
a £100&amp;nbsp;budget.&lt;/p&gt;
&lt;p&gt;The main costs were the structural timber, which was sourced from the &lt;a href="https://www.bwrp.org.uk/"&gt;Bristol Wood Recycling
Project&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;~15m of 2x3&amp;#8221; softwood&amp;nbsp;timber;&lt;/li&gt;
&lt;li&gt;~60m of 1.5x2.5&amp;#8221; softwood&amp;nbsp;timber.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also from the &lt;span class="caps"&gt;BWRP&lt;/span&gt; were: sheets of 12mm ply for the floor and roof, solid wood
planks for the door, an odd piece of shelving which worked brilliantly as a big
window sill, baton for the window frame. Other costs were: two boxes of screws
and roofing nails (Screwfix), acrylic sheet for the window (Wickes). Everything
else was sourced for free, from friends or found on the streets of Bristol:
breeze blocks for the base, pallet wood for the cladding, miscellaneous timber
for the frame, roof felt and felt glue and hinges and shackles for the&amp;nbsp;door.&lt;/p&gt;
&lt;p&gt;I didn&amp;#8217;t keep details of all the money spent, but the final cost was
approximately £150 and the end result was a sturdy shed that should last quite a
few&amp;nbsp;years.&lt;/p&gt;
&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/previous.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/previous_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/previous-side.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/previous-side_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;The existing structure that was intended to become a shed but never did.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/cleared.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/cleared_600x600.jpg" alt="The site with the old shed cleared."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;The site with the old shed cleared.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/footings.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/footings_600x600.jpg" alt="Breeze blocks in position for a base."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;Breeze blocks in position for a base.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/base-1.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/base-1_600x600.jpg" alt="The floor in position."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;The floor in position.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/frame-1.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/frame-1_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/frame-2.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/frame-2_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/frame-3.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/frame-3_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;Progress of the frame construction, finally with the roof in place.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/roof-detail-1.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/roof-detail-1_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/roof-detail-2.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/roof-detail-2_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;Details of the roof notches to sit level on the frame.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/cladding-1.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/cladding-1_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/cladding-3.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/cladding-3_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/cladding-side.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/cladding-side_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;Details of the pallet-wood cladding.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/window-frame.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/window-frame_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/window-frame-inside.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/window-frame-inside_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;With the window frame installed (now looking more like a shed, rather than a ticket office).&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/back.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/back_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/allotment-shed/complete-door-and-window.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/complete-door-and-window_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;The completed shed, with window and door installed. One final job is to install guttering on the back edge of the roof, which can feed a water butt.&lt;/figcaption&gt;
&lt;/figure&gt;</content><category term="projects"></category><category term="sheds"></category><category term="construction"></category></entry><entry><title>RGB lightbox stacks</title><link href="http://jameswhanlon.com/rgb-lightbox-stacks.html" rel="alternate"></link><published>2018-12-31T00:00:00+01:00</published><updated>2018-12-31T00:00:00+01:00</updated><author><name>James W. Hanlon</name></author><id>tag:jameswhanlon.com,2018-12-31:/rgb-lightbox-stacks.html</id><summary type="html">&lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/completed-boxes-3.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/completed-boxes-3_800x800.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;The &amp;#8216;&lt;span class="caps"&gt;RGB&lt;/span&gt; stacks&amp;#8217; lightboxes are an experiment with using high-power LEDs,
generous volumes and translucent acrylic plastic to create big blocks of
colour. They are constructed from 12 mm birch ply and each pixel measures 300 x
300 (outer dimensions). They are built as three columns of three pixels to …&lt;/p&gt;</summary><content type="html">&lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/completed-boxes-3.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/completed-boxes-3_800x800.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;The &amp;#8216;&lt;span class="caps"&gt;RGB&lt;/span&gt; stacks&amp;#8217; lightboxes are an experiment with using high-power LEDs,
generous volumes and translucent acrylic plastic to create big blocks of
colour. They are constructed from 12 mm birch ply and each pixel measures 300 x
300 (outer dimensions). They are built as three columns of three pixels to
allow them to be arranged in a square, a line, or in different locations. This
note records some of the details of their construction. Although they are now
functional, refinement of their controls and modulation continues to be a work
in progress. This note records some of the details of how they were built (I
will it updated with any new&amp;nbsp;developments).&lt;/p&gt;
&lt;p&gt;The project was inspired by a similar light box project (that unfortunately I
can no longer find on the internet), but which was a single 3 x 3 cabinet
achieving a similar block-colour effect. My motivation was to build something
similar but that could also be used as subtle/ambient lighting, making use of
the amazing colours and ability to accurately modulate LEDs to create smooth
transitions between rich colours and interesting&amp;nbsp;combinations.&lt;/p&gt;
&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/colour-experiment-blue.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/colour-experiment-blue_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/colour-experiment-red.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/colour-experiment-red_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;An early experiment to see how the &lt;span class="caps"&gt;LED&lt;/span&gt; light diffuses through the acrylic in a plywood volume.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Construction of the stacks was straightforward: all panel dimensions are
multiples of 300 and all joints biscuited and glued to avoid any visible
fixings. (I unfortunately don&amp;#8217;t have any pictures of the construction of the&amp;nbsp;stacks.)&lt;/p&gt;
&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/bead-detail-1.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/bead-detail-1_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/bead-detail-2.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/bead-detail-2_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/tape.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/tape_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;Detail of the lip added to seat the acrylic panels and the narrow double-sided tape to fix them in place.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The acrylic panels were cut to fit the inner box dimensions exactly, but with
small variations in the dimensions of the boxes. Getting them all to fit was a
long process of sanding down each one to fit a particular opening. A secure fit
of the panels was achieved with tight tolerances and narrow double-sided sticky
tape (pictured above&amp;nbsp;right).&lt;/p&gt;
&lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/completed-boxes-1.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/completed-boxes-1_600x600.jpg" alt="The boxes with all acrylic panels in place."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;The boxes with all acrylic panels in place.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Pairs of white and &lt;span class="caps"&gt;RGB&lt;/span&gt; LEDs were mounted on aluminium bar in each pixel. The
&lt;span class="caps"&gt;LED&lt;/span&gt; were fixed in place with small bolts. I made small plastic washers to avoid
shorting any of the contacts with the bolt heads. Although the aluminium bar
probably provides a sufficient heat sink, I added additional heatsink blocks on
the rear side, fixed with thermal glue (these were cut up from larger &lt;span class="caps"&gt;IC&lt;/span&gt;
heatsinks). All of the &lt;span class="caps"&gt;LED&lt;/span&gt; wiring was conveniently done with &lt;span class="caps"&gt;CAT6&lt;/span&gt; cable, using
all of the eight cores to wire the four channels. Each channel draws about
1 W at 5 V (200 mA), which is within the specification of the &lt;span class="caps"&gt;CAT6&lt;/span&gt;.&lt;/p&gt;
&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/led-bar-2.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/led-bar-2_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/led-heatsinks.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/led-heatsinks_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;The system used to mount the LEDs in the middle of each box.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/skeleton-boxes-with-leds.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/skeleton-boxes-with-leds_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/boxes-in-workshop.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/boxes-in-workshop_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;The boxes with all of the LEDs and their cabling installed.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Each box has a rear plug panel. The central box acts as a master and has
connections for power, Ethernet, and provides serial data and power to the
other outer&amp;nbsp;boxes.&lt;/p&gt;
&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/power-supply.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/power-supply_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/plug-panel.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/plug-panel_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/slave-box-control-boards.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/slave-box-control-boards_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;The master and slave plug panels for each stack.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The inter-box wiring uses 5-pin &lt;span class="caps"&gt;XLR&lt;/span&gt; sockets, to carry power, ground and the
differential pair for the serial signal. The wires were made with a dual-core
power wire (sufficient to carry the required power at 5V) with a another
dual-core wire for the serial, wrapped in a heatshrink&amp;nbsp;coat.&lt;/p&gt;
&lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/cables.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/cables_600x600.jpg" alt="Custom cabling to connect the left and right hand boxes, containing a dual-core wire for power and two CAT-6 cores for serial data."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;Custom cabling to connect the left and right hand boxes, containing a dual-core wire for power and two &lt;span class="caps"&gt;CAT&lt;/span&gt;-6 cores for serial data.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;The electronics for the &lt;span class="caps"&gt;LED&lt;/span&gt; drivers is described in a &lt;a href="http://jameswhanlon.com/three-channel-high-power-led-driver.html"&gt;separate
note&lt;/a&gt;. Each of the &lt;span class="caps"&gt;LED&lt;/span&gt; driver boards has three
outputs, so four boards are required to drive a single stack. The Raspberry Pi
microcontroller is used to control all the pixels, and does so with a dual-wire
&lt;span class="caps"&gt;RS&lt;/span&gt;-485 serial bus. This bus connects each of the driver boards in series, and
the outer boxes are wired in parallel. Despite some concerns about this
topology from notes on the &lt;span class="caps"&gt;MAX&lt;/span&gt;-485 driver &lt;span class="caps"&gt;IC&lt;/span&gt; datasheet and that I didn&amp;#8217;t use
terminating resistors, the arrangement performs&amp;nbsp;fine.&lt;/p&gt;
&lt;p&gt;So that I could easily access the electronics, I integrated the drivers and
their wiring on a plywood board that sits in the base of a stack. The master
stack has the power supply, taking mains voltage and providing 5V up to 60W
(12A) for the three stacks. See the table below for calculated power of the
LEDs only. Note that the power supply does not output enough power do drive
the boxes comfortably (80W would be more&amp;nbsp;comfortable).&lt;/p&gt;
&lt;table class="table table-sm"&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th scope="col"&gt;Channel&lt;/th&gt;
      &lt;th scope="col"&gt;Voltage (V)&lt;/th&gt;
      &lt;th scope="col"&gt;Current (A)&lt;/th&gt;
      &lt;th scope="col"&gt;&lt;span class="caps"&gt;LED&lt;/span&gt; power (W)&lt;/th&gt;
      &lt;th scope="col"&gt;Driver efficiency&lt;/th&gt;
      &lt;th scope="col"&gt;Driver power (W)&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Red&lt;/td&gt;
      &lt;td&gt;2.4&lt;/td&gt;
      &lt;td&gt;0.3&lt;/td&gt;
      &lt;td&gt;0.72&lt;/td&gt;
      &lt;td&gt;0.48&lt;/td&gt;
      &lt;td&gt;1.5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Green&lt;/td&gt;
      &lt;td&gt;3.4&lt;/td&gt;
      &lt;td&gt;0.3&lt;/td&gt;
      &lt;td&gt;1.02&lt;/td&gt;
      &lt;td&gt;0.68&lt;/td&gt;
      &lt;td&gt;1.5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Blue&lt;/td&gt;
      &lt;td&gt;3.5&lt;/td&gt;
      &lt;td&gt;0.3&lt;/td&gt;
      &lt;td&gt;1.05&lt;/td&gt;
      &lt;td&gt;0.7&lt;/td&gt;
      &lt;td&gt;1.5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;White&lt;/td&gt;
      &lt;td&gt;3.2&lt;/td&gt;
      &lt;td&gt;0.3&lt;/td&gt;
      &lt;td&gt;0.96&lt;/td&gt;
      &lt;td&gt;0.64&lt;/td&gt;
      &lt;td&gt;1.5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Total (per pixel)&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;3.75&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Total (per stack)&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;11.25&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Total&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;33.75&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;54&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;To check the above power numbers I performed some measurments with a clamp
meter of the central&amp;nbsp;stack:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;With all LEDs off, the quiesence current is 360 mA at 5 V, dissipating 1.8&amp;nbsp;W.&lt;/li&gt;
&lt;li&gt;With all LEDs on at full intensity, the current is 4.75 A at 5 V, dissipating
  23.75&amp;nbsp;W.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These numbers are slightly higher than expected, due to the &lt;span class="caps"&gt;LED&lt;/span&gt; driver current
ranging between 0.357 mA (blue) and 0.370 mA&amp;nbsp;(green).&lt;/p&gt;
&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/control-board-and-psu.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/control-board-and-psu_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/control-board-1.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/control-board-1_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/one-stack-test-with-board.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/one-stack-test-with-board_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;Integration of the electronics into the master stack (similar for the outer stacks).&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The back panels fasten with M8 bolts into&amp;nbsp;T-nuts.&lt;/p&gt;
&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/back-panels.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/back-panels_600x600.jpg" alt="Details of the back plates, fastened by M8 Allen key bolts."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;Details of the back plates, fastened by M8 Allen key bolts.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/completed-boxes-2.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/completed-boxes-2_600x600.jpg" alt="The boxes in a complete state"&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;The boxes in a complete state&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;It&amp;#8217;s hard to capture the quality of the effect of the light boxes on camera.
The images below are two early tests: left just using a lamp in one of the
pixels, right with no blending of the &lt;span class="caps"&gt;RGB&lt;/span&gt;&amp;nbsp;channels.&lt;/p&gt;
&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/one-cell-illuminated.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/one-cell-illuminated_600x600.jpg" alt="Seeing the effect of the acrylic diffusion with just a lamp in one of the cells."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;Seeing the effect of the acrylic diffusion with just a lamp in one of the cells.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/RGB-stacks/rgb-test.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/rgb-test_600x600.jpg" alt="The first RGB test of a stack."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;The first &lt;span class="caps"&gt;RGB&lt;/span&gt; test of a stack.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The behaviour of the boxes is determined by the &lt;span class="caps"&gt;PIC&lt;/span&gt; programs and the Raspberry
Pi. Since changes to the &lt;span class="caps"&gt;PIC&lt;/span&gt; program requires each of the boards to be
programmed individually and for each program to be compiled with a unique
identifier, this is not an easy way to experiment with modulating schemes.
Instead, each &lt;span class="caps"&gt;PIC&lt;/span&gt; is programmed only to change the output intensity, and
experimentation can be done using Python on the Raspberry Pi over &lt;span class="caps"&gt;SSH&lt;/span&gt;. In these
scheme, updates are sent to the &lt;span class="caps"&gt;LED&lt;/span&gt; drivers synchronously, as a frame. At
115,200 bps baud rate over &lt;span class="caps"&gt;RS485&lt;/span&gt;, this is sufficient to deliver up to 389
updates per second. In practice there are overheads that will reduce this. If,
for smooth graduations between colours the frame rate was not adequate, an
optimisation could be to expand the capability of the &lt;span class="caps"&gt;PIC&lt;/span&gt; driver code to
perform more complex actions like sweeps over intensity ranges, thereby
reducing the number of updates&amp;nbsp;required.&lt;/p&gt;
&lt;p&gt;As I mentioned, these boxes are not yet complete. To finish them, I want to add
a button panel to switch them on off and control the lighting&amp;nbsp;patterns.&lt;/p&gt;</content><category term="projects"></category><category term="making"></category><category term="lighting"></category><category term="electronics"></category></entry><entry><title>Three-channel high-power LED driver</title><link href="http://jameswhanlon.com/three-channel-high-power-led-driver.html" rel="alternate"></link><published>2018-12-30T00:00:00+01:00</published><updated>2018-12-30T00:00:00+01:00</updated><author><name>James W. Hanlon</name></author><id>tag:jameswhanlon.com,2018-12-30:/three-channel-high-power-led-driver.html</id><summary type="html">&lt;div class="float-right"&gt;
&lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/LED-driver/board-layers.png" data-lightbox="led-driver"&gt;
  &lt;img class="thumbnail rounded" src="thumbs/board-layers_400x400.png" alt="Board silk screen"&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;This note describes an &lt;span class="caps"&gt;LED&lt;/span&gt; driver I designed for a lighting project. I decided
on a custom solution because I couldn&amp;#8217;t find any suitable boards available to
buy at a reasonable price. The intended application (which I will describe in
another note) requires 12 high-power (~1W) LEDs to be …&lt;/p&gt;</summary><content type="html">&lt;div class="float-right"&gt;
&lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/LED-driver/board-layers.png" data-lightbox="led-driver"&gt;
  &lt;img class="thumbnail rounded" src="thumbs/board-layers_400x400.png" alt="Board silk screen"&gt;
&lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;This note describes an &lt;span class="caps"&gt;LED&lt;/span&gt; driver I designed for a lighting project. I decided
on a custom solution because I couldn&amp;#8217;t find any suitable boards available to
buy at a reasonable price. The intended application (which I will describe in
another note) requires 12 high-power (~1W) LEDs to be driven individually a 3 by 3
grid measuring approximately 1 metre square, with each of the nine cell
containing a red, green, blue and white &lt;span class="caps"&gt;LED&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;I embarked on this project without any experience of designing PCBs, and with
relatively little knowledge of electronics, so it was a steep but fantastic
learning experience. I wanted to record some of the details of this project for
others who may find them useful, as I did with some of the resources I&amp;#8217;ve
linked to at the end. All of the &lt;span class="caps"&gt;PCB&lt;/span&gt; design files and processor firmware are
&lt;a href="https://github.com/jameshanlon/3C-HP-LED-driver"&gt;available on GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Design&lt;/h1&gt;
&lt;p&gt;The board is designed around the following main &lt;span class="caps"&gt;IC&lt;/span&gt;&amp;nbsp;components:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Microchip &lt;span class="caps"&gt;PIC12F1572&lt;/span&gt; for &lt;span class="caps"&gt;PWM&lt;/span&gt; &lt;span class="caps"&gt;LED&lt;/span&gt; control and serial communication. This was
  the simplest &lt;span class="caps"&gt;PIC&lt;/span&gt; I could find that had multiple &lt;span class="caps"&gt;PWM&lt;/span&gt; outputs and &lt;span class="caps"&gt;UART&lt;/span&gt; serial
communication capability. It&amp;#8217;s an 8-bit device with 16-bit PWMs and 3.5 KBs of
program&amp;nbsp;memory.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Maxim &lt;span class="caps"&gt;MAX485&lt;/span&gt; for communication to multiple of these boards. This &lt;span class="caps"&gt;IC&lt;/span&gt; provides
  half-duplex communication over a 2-wire differential pair using the &lt;span class="caps"&gt;RS485&lt;/span&gt;
protocol, allowing communication over long distances. Importantly it supports
multiple drops, so a number of boards can be wired together with a bus. I chose
this as it is very simple to integrate, with no additional components required,
compared to the capacitors necessary for the &lt;span class="caps"&gt;MAX232&lt;/span&gt;. Talking to the &lt;span class="caps"&gt;PIC&lt;/span&gt;, this
can support a baud rate of 115,200&amp;nbsp;bps.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;span class="caps"&gt;ON&lt;/span&gt; Semiconductor &lt;span class="caps"&gt;CAT4101&lt;/span&gt; for driving LEDs with a constant-current up to 1A
with &lt;span class="caps"&gt;PWM&lt;/span&gt; control. Because the temperature fluctuations of high-power LEDs
affects their forward voltage, driving them with a constant current is
important to avoid damage due to over voltage. These chips neatly integrate
this with the &lt;span class="caps"&gt;PWM&lt;/span&gt; control ability. Their only downsides were their cost (~£2
each - with 36 of them needed for my lighting project, they were the greatest
single expense) and package which isn&amp;#8217;t designed to be hand&amp;nbsp;soldered.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Other&amp;nbsp;features:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Header for in-circuit &lt;span class="caps"&gt;PIC&lt;/span&gt; programming. To disconnect the &lt;span class="caps"&gt;UART&lt;/span&gt; pins (required
  for programming) and to attach a 10K pull up resistor, I included three
  jumper headers. However, I found connecting the pull up wasn&amp;#8217;t necessary for&amp;nbsp;programming.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Screw terminals for all installation&amp;nbsp;connections.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Indicator LEDs for &lt;span class="caps"&gt;UART&lt;/span&gt; &lt;span class="caps"&gt;TX&lt;/span&gt; and &lt;span class="caps"&gt;RX&lt;/span&gt; directions, and&amp;nbsp;power.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I designed the &lt;span class="caps"&gt;PCB&lt;/span&gt; using the excellent &lt;a href="http://kicad-pcb.org/"&gt;KiCAD&lt;/a&gt; and had
it manufactured very cheaply by &lt;a href="https://www.seeedstudio.com/fusion_pcb.html"&gt;Seeed Studio&lt;/a&gt;
in Shenzhen,&amp;nbsp;China.&lt;/p&gt;
&lt;p&gt;Here&amp;#8217;s the&amp;nbsp;schematic:&lt;/p&gt;
&lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/LED-driver/schematic.png" data-lightbox="led-driver"&gt;
    &lt;img class="rounded" src="thumbs/schematic_800x800.png" alt="Board circuit schematic"&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;h1&gt;Parts&amp;nbsp;list&lt;/h1&gt;
&lt;table class="table table-sm"&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th scope="col"&gt;Quantity&lt;/th&gt;
      &lt;th scope="col"&gt;Package&lt;/th&gt;
      &lt;th scope="col"&gt;Description&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;&lt;span class="caps"&gt;TO&lt;/span&gt;-263&lt;/td&gt;
      &lt;td&gt;&lt;span class="caps"&gt;CAT4101&lt;/span&gt; &lt;span class="caps"&gt;LED&lt;/span&gt; drivers 5.5V&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;&lt;span class="caps"&gt;DIP&lt;/span&gt;-8&lt;/td&gt;
      &lt;td&gt;&lt;span class="caps"&gt;PIC12F1572&lt;/span&gt; microcontroller&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;&lt;span class="caps"&gt;DIP&lt;/span&gt;-8&lt;/td&gt;
      &lt;td&gt;&lt;span class="caps"&gt;MAX485&lt;/span&gt; serial interface&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0805&lt;/td&gt;
      &lt;td&gt;Green LEDs&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0805&lt;/td&gt;
      &lt;td&gt;Resistor 10K&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0805&lt;/td&gt;
      &lt;td&gt;Resistor 1.4K&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0805&lt;/td&gt;
      &lt;td&gt;Resistor 510&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;0805&lt;/td&gt;
      &lt;td&gt;Capacitor 0.1 uF&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;&lt;span class="caps"&gt;SOT&lt;/span&gt;-23&lt;/td&gt;
      &lt;td&gt;2N7002 N-channel &lt;span class="caps"&gt;MOSFET&lt;/span&gt; 300 mA&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;2 way 5mm pitch terminal blocks&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;3 way 5mm pitch terminal blocks&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;12&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;2.54mm pitch pin headers&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
      &lt;td&gt;2.54mm pin header jumper caps&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;The &lt;span class="caps"&gt;CAT4101&lt;/span&gt; sense resistors are chosen to give a constant current close to 300
mA, at 1.4 KOhms. See the &lt;span class="caps"&gt;CAT4101&lt;/span&gt; &lt;a href="https://www.onsemi.com/pub/Collateral/CAT4101-D.PDF"&gt;datasheet&lt;/a&gt; for more&amp;nbsp;details.&lt;/p&gt;
&lt;p&gt;For reference, I have assumed the following parameters of the LEDs I
used (you should however check the datasheet for a particular &lt;span class="caps"&gt;LED&lt;/span&gt;):&lt;/p&gt;
&lt;table class="table table-sm"&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th scope="col"&gt;Colour&lt;/th&gt;
      &lt;th scope="col"&gt;Typical forward voltage&lt;br&gt;(@ 350 mA)&lt;/th&gt;
      &lt;th scope="col"&gt;Part&lt;/th&gt;
      &lt;th scope="col"&gt;Reference&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Red&lt;/td&gt;
      &lt;td&gt;2.4&lt;/td&gt;
      &lt;td&gt;3W &lt;span class="caps"&gt;RGB&lt;/span&gt; module&lt;/td&gt;
      &lt;td&gt;&lt;a href="https://www.sparkfun.com/datasheets/Components/LED/COM-08718-datasheet.pdf"&gt;Datasheet (&lt;span class="caps"&gt;PDF&lt;/span&gt;)&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Green&lt;/td&gt;
      &lt;td&gt;3.4&lt;/td&gt;
      &lt;td&gt;3W &lt;span class="caps"&gt;RGB&lt;/span&gt; module&lt;/td&gt;
      &lt;td&gt;&lt;a href="https://www.sparkfun.com/datasheets/Components/LED/COM-08718-datasheet.pdf"&gt;Datasheet (&lt;span class="caps"&gt;PDF&lt;/span&gt;)&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Blue&lt;/td&gt;
      &lt;td&gt;3.5&lt;/td&gt;
      &lt;td&gt;3W &lt;span class="caps"&gt;RGB&lt;/span&gt; module&lt;/td&gt;
      &lt;td&gt;&lt;a href="https://www.sparkfun.com/datasheets/Components/LED/COM-08718-datasheet.pdf"&gt;Datasheet (&lt;span class="caps"&gt;PDF&lt;/span&gt;)&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;White&lt;/td&gt;
      &lt;td&gt;2.8-3.4&lt;/td&gt;
      &lt;td&gt;1W Ice White &lt;span class="caps"&gt;LED&lt;/span&gt; (Bridgelux 9000-15000k)&lt;/td&gt;
      &lt;td&gt;&lt;a href="https://futureeden.co.uk/collections/ice-white-bridgelux-power-led-9000-15000k/products/1w-ice-white-led-bridgelux-12000k-with-pcb"&gt;Future Eden&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;The &lt;span class="caps"&gt;CAT4101&lt;/span&gt; is a &lt;a href="https://electronics.stackexchange.com/questions/344547/how-do-i-calculate-the-efficiency-of-a-linear-constant-current-led-driver"&gt;linear driver&lt;/a&gt;, so it effectively acts as a
variable resistor to deliver constant current, with an efficiency of
$V_{led}/V_{supply}$. A disadvantage of driving each &lt;span class="caps"&gt;LED&lt;/span&gt; individually is that
its efficiency can be low, down to 50%. The power delivered to the &lt;span class="caps"&gt;LED&lt;/span&gt; is
$I_{led} \times V_{led}$ and the power dissipated by the driver is $I_{led}
\times V_{supply}$ (not including quiescent&amp;nbsp;power).&lt;/p&gt;
&lt;table class="table table-sm"&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th scope="col"&gt;Channel&lt;/th&gt;
      &lt;th scope="col"&gt;Voltage (V)&lt;/th&gt;
      &lt;th scope="col"&gt;Current (A)&lt;/th&gt;
      &lt;th scope="col"&gt;&lt;span class="caps"&gt;LED&lt;/span&gt; power (W)&lt;/th&gt;
      &lt;th scope="col"&gt;&lt;span class="caps"&gt;CAT4101&lt;/span&gt; efficiency&lt;/th&gt;
      &lt;th scope="col"&gt;Driver power (W)&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Red&lt;/td&gt;
      &lt;td&gt;2.4&lt;/td&gt;
      &lt;td&gt;0.3&lt;/td&gt;
      &lt;td&gt;0.72&lt;/td&gt;
      &lt;td&gt;0.48&lt;/td&gt;
      &lt;td&gt;1.5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Green&lt;/td&gt;
      &lt;td&gt;3.4&lt;/td&gt;
      &lt;td&gt;0.3&lt;/td&gt;
      &lt;td&gt;1.02&lt;/td&gt;
      &lt;td&gt;0.68&lt;/td&gt;
      &lt;td&gt;1.5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Blue&lt;/td&gt;
      &lt;td&gt;3.5&lt;/td&gt;
      &lt;td&gt;0.3&lt;/td&gt;
      &lt;td&gt;1.05&lt;/td&gt;
      &lt;td&gt;0.7&lt;/td&gt;
      &lt;td&gt;1.5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;White&lt;/td&gt;
      &lt;td&gt;3.2&lt;/td&gt;
      &lt;td&gt;0.3&lt;/td&gt;
      &lt;td&gt;0.96&lt;/td&gt;
      &lt;td&gt;0.64&lt;/td&gt;
      &lt;td&gt;1.5&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Measurements of each of the &lt;span class="caps"&gt;LED&lt;/span&gt; channels using a current clamp meter showed
that the current drawn ranges from 357 mA to 370&amp;nbsp;mA.&lt;/p&gt;
&lt;h1&gt;Programming&lt;/h1&gt;
&lt;p&gt;The intention of the &lt;span class="caps"&gt;PIC&lt;/span&gt; microcontrollers is to react to a simple set of
commands sent via the serial interface. In deployment, an array of these driver
boards would be controlled by another processor broadcasting on the &lt;span class="caps"&gt;RS485&lt;/span&gt; bus.
I used a Raspberry Pi with an &lt;span class="caps"&gt;RS485&lt;/span&gt; shield to do&amp;nbsp;this.&lt;/p&gt;
&lt;p&gt;At a minimum, the PICs need to set the intensity of each &lt;span class="caps"&gt;LED&lt;/span&gt; they control,
which is the current operation of the firmware. They could however be triggered
to perform more complex modulations. This would reduce the data transmission
requirements on the &lt;span class="caps"&gt;RS485&lt;/span&gt; bus, potentially improving the quality of animations
produced by an&amp;nbsp;array.&lt;/p&gt;
&lt;p&gt;The &lt;span class="caps"&gt;PIC&lt;/span&gt; microcontrollers are programmed in C, which I did using Microchip&amp;#8217;s &lt;span class="caps"&gt;XC&lt;/span&gt;
compiler and MPLab &lt;span class="caps"&gt;IDE&lt;/span&gt; software. In order that each board can uniquely identify
it&amp;#8217;s control data, they are compiled with a unique &lt;span class="caps"&gt;ID&lt;/span&gt;. With a deployment of 12
boards, firmware updates are a little arduous, particularly since the two
jumpers need to be removed as&amp;nbsp;well.&lt;/p&gt;
&lt;p&gt;I found that an efficient communication protocol between an array of boards
and the main controller (Raspberry Pi) is a sequence of bytes with the first
uniquely determining the header and the following 36 determining the intensity
of each of the individual LEDs. Each board uses its &lt;span class="caps"&gt;ID&lt;/span&gt; to choose three values
in the payload. At 115,200 bps, this in theory allows up to 389 commands to
be sent per second. Note that the boards do not send an acknowledgement, since
this significantly reduces the throughput. In Python a packet can be sent with
(&lt;a href="https://github.com/jameshanlon/rgb-stacks/blob/master/rgbstacks.py"&gt;snippet from here&lt;/a&gt;):&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;def&lt;/span&gt; &lt;span class="n"&gt;set_colour&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;payload&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="nb"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;payload&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;usart&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bytearray&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;chr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;payload&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;usart&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;flush&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The PICs receive &lt;span class="caps"&gt;UART&lt;/span&gt; data and set the output PWMs thus
(&lt;a href="https://github.com/jameshanlon/rgb-stacks/blob/master/PIC/main.c"&gt;snippet from here&lt;/a&gt;):&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="n"&gt;Reset&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;we&lt;/span&gt; &lt;span class="n"&gt;see&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;packet&lt;/span&gt; &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;RCREGbits&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;RCREG&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;START_PACKET&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="n"&gt;uart_count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="n"&gt;Packet&lt;/span&gt; &lt;span class="n"&gt;payload&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
  &lt;span class="n"&gt;uart_data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;uart_count&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;RCREGbits&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;RCREG&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="n"&gt;When&lt;/span&gt; &lt;span class="n"&gt;we&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ve received the payload, update PWMs and setup for next packet.&lt;/span&gt;
  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;uart_count&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;PAYLOAD_SIZE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="n"&gt;Set&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;duty&lt;/span&gt; &lt;span class="n"&gt;cycles&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;bit&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt; &lt;span class="n"&gt;into&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt; &lt;span class="n"&gt;bits&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
    &lt;span class="n"&gt;PWM1DC&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;uart_data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;DRIVER_OFFSET&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;PWM2DC&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;uart_data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;DRIVER_OFFSET&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;PWM3DC&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;uart_data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;DRIVER_OFFSET&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="n"&gt;Reload&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;PWMs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
    &lt;span class="n"&gt;PWM1LD&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;PWM2LD&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;PWM3LD&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;uart_count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Pictures&lt;/h1&gt;
&lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/LED-driver/unpopulated-boards.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/unpopulated-boards_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/LED-driver/assembled-1.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/assembled-1_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/LED-driver/assembled-2.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/assembled-2_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/LED-driver/assembled-top.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/assembled-top_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/LED-driver/assembled-programmer.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/assembled-programmer_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/LED-driver/8up.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/8up_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/LED-driver/array-1.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/array-1_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/LED-driver/array-2.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/array-2_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/LED-driver/4up-1.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/4up-1_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;h1&gt;Improvements&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Adjust the &lt;span class="caps"&gt;CAT4101&lt;/span&gt; sense resistor to deliver closer to 300 mA (1.5-1.6&amp;nbsp;KOhm).&lt;/li&gt;
&lt;li&gt;Remove the 10K pull up resistor for programming the &lt;span class="caps"&gt;PIC&lt;/span&gt; since it is&amp;nbsp;unnecessary.&lt;/li&gt;
&lt;li&gt;Update the defunct silk screen &lt;span class="caps"&gt;URL&lt;/span&gt; to my new jameswhanlon.com&amp;nbsp;domain.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;References&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/jameshanlon/3C-HP-LED-driver"&gt;Board design and microcontroller source code on&amp;nbsp;GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://thecustomgeek.com/2013/12/28/rgbw31/"&gt;&lt;span class="caps"&gt;RGBW&lt;/span&gt; &lt;span class="caps"&gt;LED&lt;/span&gt; Controller v3.1 (The Custom Geek)&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.bigclive.com/newrgb.htm"&gt;Make an &lt;span class="caps"&gt;RGB&lt;/span&gt; lighting controller&amp;nbsp;(Bigclivedotcom)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.instructables.com/id/Easy-CAT4101-LED-Driver/"&gt;Easy &lt;span class="caps"&gt;CAT4101&lt;/span&gt; &lt;span class="caps"&gt;LED&lt;/span&gt; Driver&amp;nbsp;(Instructables)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.instructables.com/id/Circuits-for-using-High-Power-LED-s/"&gt;High power &lt;span class="caps"&gt;LED&lt;/span&gt; driver circuits&amp;nbsp;(Instructables)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.instructables.com/id/Power-LED-s---simplest-light-with-constant-current/"&gt;Power &lt;span class="caps"&gt;LED&lt;/span&gt;&amp;#8217;s - Simplest Light With Constant-current Circuit&amp;nbsp;(Instructables)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://electronics.stackexchange.com/questions/344547/how-do-i-calculate-the-efficiency-of-a-linear-constant-current-led-driver"&gt;Re: Help understanding electrical efficiency of LEDs with &lt;span class="caps"&gt;PWM&lt;/span&gt; dimming (Candle Power&amp;nbsp;Forums)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="projects"></category><category term="lighting"></category><category term="electronics"></category></entry><entry><title>Retrofit shed insulation</title><link href="http://jameswhanlon.com/retrofit-shed-insulation.html" rel="alternate"></link><published>2018-09-30T00:00:00+02:00</published><updated>2018-09-30T00:00:00+02:00</updated><author><name>James W. Hanlon</name></author><id>tag:jameswhanlon.com,2018-09-30:/retrofit-shed-insulation.html</id><summary type="html">&lt;p&gt;To make the shed in my garden (built by the previous owner) a usable space in
cold weather, I decided to insulate it. The construction of it is a stud timber
frame of 2x4&amp;#8221; with a corrugated metal exterior and lined inside with &lt;span class="caps"&gt;OSB&lt;/span&gt; board.
The construction has created voids …&lt;/p&gt;</summary><content type="html">&lt;p&gt;To make the shed in my garden (built by the previous owner) a usable space in
cold weather, I decided to insulate it. The construction of it is a stud timber
frame of 2x4&amp;#8221; with a corrugated metal exterior and lined inside with &lt;span class="caps"&gt;OSB&lt;/span&gt; board.
The construction has created voids in the floor, walls and roof, providing a
convenient space to add&amp;nbsp;insulation.&lt;/p&gt;
&lt;p&gt;I considered using natural wool insulation, as opposed to rigid insulation
board, but felt that it would difficult to secure it in place in a consistent
way, as well as ensuring an air gap remains between the external cladding. I
decided on using Celotex rigid insulation board and used 12 sheets of 75mm
thick standard 2400 mm x 1200 mm size, and two boards of the same size at 50 mm
for the back wall. In total, the insulation cost £512.74 (including &lt;span class="caps"&gt;VAT&lt;/span&gt;). To
prevent draughts as much as possible, I decided to tape the gaps between the
boards and shed timbers. I bought about 8 rolls of foil tape to do&amp;nbsp;this.&lt;/p&gt;
&lt;p&gt;The insulation board turned out to be easy to work with, easy to cut with a
panel saw and fitting snugly in the gaps and leaving plenty of space for
ventilation. I found the dust created by sawing the board irritating to my eyes
and breathing so as much as possible wore eye protection and a mask (although
hard to do getting hot in the small space). Working overhead on the roof was
the worst part as it was difficult to avoid falling dust on my face. The whole
job took three days to complete and has made a substantial difference to the
stability of the temperature in the&amp;nbsp;space.&lt;/p&gt;
&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/before-left-wall.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/before-left-wall_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/before-consumer-unit.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/before-consumer-unit_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/insulation-board.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/insulation-board_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;The &lt;span class="caps"&gt;OSB&lt;/span&gt; lining before starting (left) and the 75 mm board (right).&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/stripped-panorama.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/stripped-panorama_w=1200.jpg" alt="OSB lining removed from the walls and roof."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;&lt;span class="caps"&gt;OSB&lt;/span&gt; lining removed from the walls and roof.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/stripped-floor.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/stripped-floor_h=450.jpg" alt="The remaining OSB removed from the floor."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;The remaining &lt;span class="caps"&gt;OSB&lt;/span&gt; removed from the floor.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/floor-1.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/floor-1_600x600.jpg" alt="Complete and taped floor insulation, and half the floor restored."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;Complete and taped floor insulation, and half the floor restored.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/exposed-roof.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/exposed-roof_600x600.jpg" alt="Installation of insulation into the roof apex. The dust falling from the board as they are positioned in place made this an unpleasant job."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;Installation of insulation into the roof apex. The dust falling from the board as they are positioned in place made this an unpleasant job.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/left-wall-done.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/left-wall-done_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/right-wall-done-2.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/right-wall-done-2_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/fiddly-bit.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/fiddly-bit_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;Completed walls and roof, prior to taping.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/back-wall-preparation.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/back-wall-preparation_600x600.jpg" alt="Timer added to provide a space to install the insulation."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;Timer added to provide a space to install the insulation.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/back-wall-done.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/back-wall-done_600x600.jpg" alt="...and the insulation in place."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;&amp;#8230;and the insulation in place.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/back-right-2.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/back-right-2_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/door-left-done.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/door-left-done_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;Details of more completed areas, before and after taping.&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/complete-tools-panorama.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/complete-tools-panorama_w=1200.jpg" alt="The scene before tidying up."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;The scene before tidying up.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

&lt;div class="text-center"&gt;
&lt;figure class="figure"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/complete-panorama.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/complete-panorama_w=1200.jpg" alt="...and after tidying."&gt;
  &lt;/a&gt;
  &lt;figcaption class="figure-caption text-left"&gt;&amp;#8230;and after tidying.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/div&gt;

&lt;figure class="figure"&gt;
&lt;div class="container"&gt;
  &lt;div class="row align-items-center"&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/work-bench.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/work-bench_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class="col"&gt;
    &lt;div class="text-center"&gt;
  &lt;a href="https://jwh.ams3.digitaloceanspaces.com/homepage/shed-insulation/shelving.jpg" data-lightbox="shed"&gt;
    &lt;img class="figure-img img-fluid thumbnail" src="/thumbs/shelving_600x600.jpg" alt="No alt text"&gt;
  &lt;/a&gt;
&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;figcaption class="figure-caption"&gt;Almost done: enough &lt;span class="caps"&gt;OSB&lt;/span&gt; lining back in to install the workbench and shelves.&lt;/figcaption&gt;
&lt;/figure&gt;</content><category term="projects"></category><category term="sheds"></category><category term="retrofit"></category><category term="energy-efficiency"></category></entry></feed>